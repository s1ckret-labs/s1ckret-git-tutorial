# Part 3. Branching

## A. Gist of branching
 Добро пожаловать на курс. В этой главе мы рассмотрим работу с ветками: создание, удаление, переключение. Также рассмотрим перемещение указателя HEAD, откат к прежним коммитам.
 Итак, для чего нам нужны ветки. 
 Во-первых, для возможности паралельного программирования. Допустим двое людей разрабатывают веб-приложение. Если они работают на только на основной ветке (master, main), то у них часто будут проблемы со слиянием результатов работы. Если каждый будет создавать ветку для своей задачи, то процесс разработки будет протекать плавно и без проблем.
 Во-вторых, для экспериментов. Допустим, что Вы придумали какое-то гениальное, но слишком опасное решение проблемы, чтобы выполнять его на основной ветке. Для этого просто переключитесь на новую ветку и проводите столько экспериментов, сколько придумаете.
 Советую [сайт по визуализации работы с гитом](https://learngitbranching.js.org/). Очень удобный инструмент для обучения и для экспериментов.
 
## B. Commands

### Branch creation

Следующими командами можно создавать ветки. Между командами есть некоторая разница.
|           __Command__          | __Description__                                             |
|:------------------------------:|-------------------------------------------------------------|
|    __git branch *\<name\>*__   | Создаёт ветку под именем *\<name\>*                         |
|  __git switch -c *\<name\>*__  | Создаёт ветку под именем *\<name\>* и переключается на неё. |
| __git checkout -b *\<name\>*__ | Создаёт ветку под именем *\<name\>* и переключается на неё. |

### Branch switching
Рассмотрим как переключаться между ветками.
|         __Command__         | __Description__                  |
|:---------------------------:|----------------------------------|
|  __git switch *\<name\>*__  | Переключает на ветку *\<name\>*. |
| __git checkout *\<name\>*__ | Переключает на ветку *\<name\>*. |

Наверное вы увидели, что при переключение веток, также перемещается указатель HEAD.

> Note: git switch может переключаться _только_ между ветками! git checkout ещё может бегать по коммитам!
### Moving around with HEAD

Давайте рассмотрим понятие HEAD снова и посмотрим как мы можем перемещается по репозиторию. 

`HEAD` (сокращение - `@`) - это указатель(ссылка) на ветку. Другими словами, это указатель(ссылка) на самый последний коммит в ветки.
Также существуют понятие `Detached HEAD` - это когда HEAD указывает на определённый коммит, который не ассоциируется с названием ветки. То есть, HEAD __отсоединён__ от ветки.

> Note: Вы можете создавать ветки в любом месте(от любого коммита)!

Вы можете перемещаться линейно назад по истории следующим способом.
```
    git checkout HEAD~n  #where n - number
    #or 
    git <branch-name>~n  #where n - number
```
Например команда `git checkout HEAD~3` переместит HEAD на три коммита назад.

Также существует оператор `^` он позволяет выбирать предка. Например у нас есть такая история. Вы видите три ветки: master, feature_new_logic, feature_new_window. Последние две ветки соединили. Как это сделать мы рассмотрим в следующей главе.
    Итак, HEAD указывает на коммит f3bc785. Если мы напишем команду `git checkout HEAD^1`, то результат будет эквивалентен выполнению команды `git checkout HEAD~1`. 
    
```
*   f3bc795 (HEAD -> feature_new_logic) Merge branch 'feature_new_window' into feature_new_logic
|\
| * b8557ab (feature_new_window) add new icon
| * b687c88 add image
* | faf1bd3 add sender funciton
* | 23662ee add parser
|/
* 78bad59 (master) commit

```

##### After `git checkout HEAD^1`
HEAD переместилась на коммит faf1bd3.
```
*   f3bc795 Merge branch 'feature_new_window' into feature_new_logic
|\
| * b8557ab (feature_new_window) add new icon
| * b687c88 add image
* | faf1bd3 (HEAD) add sender funciton
* | 23662ee add parser
|/
* 78bad59 (master) commit

```
##### After `git checkout HEAD^2`
  HEAD переместился на b8557ab.
```
*   f3bc795 Merge branch 'feature_new_window' into feature_new_logic
|\
| * b8557ab (HEAD, feature_new_window) add new icon
| * b687c88 add image
* | faf1bd3 add sender funciton
* | 23662ee add parser
|/
* 78bad59 (master) commit

```
### Branch management

Итак, мы создали много веток. Давайте рассмотрим какие ещё операции мы можем делать с ветками.
#### List of branches

|   __Command__  | __Short Flag__ | __Long Flag__ | __Description__                                      |
|:--------------:|----------------|---------------|------------------------------------------------------|
| __git branch__ | -l             | --list        | Показывает список локальных веток                    |
| __git branch__ | -v             | --verbose     | Показывает название и хэш последнего коммита в ветке |
| __git branch__ | -r             | --remotes     | Показывает список удалённых веток                    |
| __git branch__ | -a             | --all         | Показывает список локальных и удалённых веток        |

#### Delete, move, copy commands
|                    __Command__                   | __Short Flag__ | __Long Flag__ | __Description__                                     |
|:------------------------------------------------:|----------------|---------------|-----------------------------------------------------|
| __git branch *\<branch_1\>* ... *\<branch_n\>*__ | -d             | --delete      | Удаляет ветки                                       |
| __git branch *\<branch\>* *\<newbranch\>*__      | -c             | --copy        | Копирует ветку \<branch\> в \<newbranch\>           |
| __git branch *\<oldbranch\>* *\<newbranch\>*__   | -m             | --move        | Переименовывает ветку \<oldbranch\> в \<newbranch\> |
    
# The end of part 2!
Надеюсь этот материал стал Вам полезен! Желаю Вам всего хорошего.
