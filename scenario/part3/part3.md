# Part 3. Stash

## A. Gist of stash

Stash - тайник или, как я предпочитаю его называть, сундук. Это то место где, Вы можете сохранить/спрятать ваши наработки. Это пригодится в случае перехода на совершенно другую ветку или для внепланового перебазирования(смотри главу 6) и для много чего другого. Stash хранится только локально. Также stash работает, как стек. 

## B. Commands

### Сохранение в сундук (Stashing)

Представим, что Вы сделали некоторые изменение и захотели их спрятать в сундук. Для этого напишите команду `git stash`. Git самостоятельно всё сделает за Вас. Git напишет Вам в ответ следующее сообщение:
```
Saved working directory and index state WIP on <your_branch>: <your_commit_shot_hash> <your_commit_name>

# Example
Saved working directory and index state WIP on master: 5a5585f Initial commit
```

> Note: WIP значит Work In Progress!

Если Вы желаете спрятать измения и подписать их, воспользуйтесь командой `git stash save /<your_message/>`.

> Example: git stash save "Such a mess. Just forget about these changes."

### Что в нашем сундуке? (What is in stash?)

Для того, чтобы посмотреть что находится в сундуке, напишите команду `git stash list`. Git ваши сохранения(stashes)
```
# Example

stash@{0}: On master: Well version 2
stash@{1}: WIP on master: 5a5585f Initial commit
```

 или же ничего если сундук пуст.
 
 Для того, чтобы посмотреть определённый stash, напишите команду `git stash show stash@{n}`, где `n` - номер stash'a. По умолчанию команда отображает сокращённый формат. Чтобы отобразить изменения в файлах допишите флаг `-a` или `--text`.
 Вы можете применять теже флаги, что и для команды `git diff`. 
 
 > Example: git stash show stash@{0}
 
### Достаём с сунудка (Appyling stash)

Для того, чтобы достать с сундука и применить изменения на текущей ветке, напишите команду `git stash`. Эта команда достанет самый свежий сундучёк(stash@{0}) и применит его на рабочую директорию, но не удалит запись(stash@{0}) из stash'a.
Также Вы можете выбирать какой сундучёк(stash) применить. Для этого укажите номер stash'a. 

```
# Example
git stash apply stash@{3}
```

Чтобы применить последние изменения из stash и удалить его из стека, воспользуйтесь командой `git pop`.

### Убираем в сундуке (Cleaning the stash)

Для того, чтобы удалить конкретный сундучёк(stash) напишите команду `git stash drop stash@{n}`, где `n` - номер stash'a.

Для того, чтобы удалить все записи напишите команду `git stash clear`

# The end of part 3! 
Надеюсь этот материал стал Вам полезен! Желаю Вам всего хорошего.
